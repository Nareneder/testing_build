"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[598],{8598:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var r=n(7022),i=n(5861),s=n(885),a=n(7757),o=n.n(a),u=n(2791),c=n(9743),l=n(2677),d=n(6713),h=n(3513),f=n(184);window.Buffer=window.Buffer||n(9778).lW;var m=function(){var e=(0,u.useState)([]),t=(0,s.Z)(e,2),n=t[0],r=t[1],a=(0,u.useState)([]),m=(0,s.Z)(a,2),p=m[0],v=m[1],g=(0,u.useState)([]),b=(0,s.Z)(g,2),_=b[0],T=b[1];(0,u.useEffect)((function(){y(),w()}),[]);var y=function(){var e=(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.Z+"users/get_users_five");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.Z+"groups/get_groups_five");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,v(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=(0,u.useState)(!0),A=(0,s.Z)(k,2),I=A[0],E=A[1],x=function(){var e=(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.Z+"users/get_five_subscriber");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,T(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){var e=setTimeout((function(){y(),x(),w(),E(!1)}),2e3);return function(){return clearTimeout(e)}}),[]);var L=[{id:"user_id",width:"60px",name:"Id",selector:function(e){return e.id},sortable:!0},{name:"Name",selector:function(e){return e.name},sortable:!0},{name:"Mobile",selector:function(e){return e.country_code+" "+e.mobile},sortable:!0},{name:"Status",selector:function(e){return"0"===e.user_type?(0,f.jsx)("span",{children:"Trial"}):"1"===e.user_type?(0,f.jsx)("span",{children:"Free"}):"2"===e.user_type?(0,f.jsx)("span",{children:"Premium"}):void 0},sortable:!0},{name:"Creation Time",selector:function(e){return Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e.creation_time)},sortable:!0}],S=[{name:"Id",width:"60px",selector:function(e){return e.id},sortable:!0},{name:"Name",selector:function(e){return e.user_name},sortable:!0},{name:"Mobile",selector:function(e){return e.user_country+" "+e.user_mobile},sortable:!0},{name:"Device Type",selector:function(e){return"0"===e.user_type?(0,f.jsx)("span",{children:"IOS"}):"1"===e.user_type?(0,f.jsx)("span",{children:"Android"}):void 0},sortable:!0},{name:"Creation Time",selector:function(e){return Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e.creation_time)},sortable:!0}],M=[{name:"Id",width:"60px",selector:function(e){return e.id},sortable:!0},{name:"Group Name",selector:function(e){return e.name},sortable:!0},{name:"Updation Time",selector:function(e){return Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e.update_time)},sortable:!0},{name:"User Access",selector:function(e){return"1"===e.grp_join_appr_wall?(0,f.jsx)("span",{className:"mb-0",children:"Immediate Access"}):"0"===e.grp_join_appr_wall?(0,f.jsx)("span",{className:"mb-0",children:"Request Approval"}):void 0},sortable:!0},{name:"Creation Time",selector:function(e){return Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(e.creation_time)},sortable:!0}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(c.Z,{children:[(0,f.jsxs)(l.Z,{lg:"6",children:[(0,f.jsx)("header",{children:(0,f.jsx)("h2",{children:"5 Newly Added User"})}),(0,f.jsx)(h.ZP,{columns:L,data:n,progressPending:I,fixedHeader:!0,fixedHeaderScrollHeight:"450"})]}),(0,f.jsxs)(l.Z,{lg:"6",children:[(0,f.jsx)("header",{children:(0,f.jsx)("h2",{children:"5 Newly Added Group"})}),(0,f.jsx)(h.ZP,{columns:M,data:p,progressPending:I,fixedHeader:!0,fixedHeaderScrollHeight:"450"})]})]}),(0,f.jsx)(c.Z,{className:"mt-5 mb-5",children:(0,f.jsxs)(l.Z,{lg:"12",children:[(0,f.jsx)("header",{children:(0,f.jsx)("h2",{children:"Last 5 Subscription Purchase"})}),(0,f.jsx)(h.ZP,{columns:S,data:_,progressPending:I,paginationPosition:"top",fixedHeader:!0,fixedHeaderScrollHeight:"450",pagination:!0})]})})]})},p=n(5671),v=n(3144),g=n(7326),b=n(136),_=n(2963),T=n(1120),y=n(2007),w=n.n(y),k=n(1002),A="object"===("undefined"==typeof window||"undefined"==typeof window?"undefined":(0,k.Z)(window)),I=A?document:{},E=["mousemove","keydown","wheel","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove","visibilitychange"];function x(e,t){var n;function r(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,i),n=null}),t)}return r.cancel=function(){clearTimeout(n)},r}function L(e,t){var n=0;return function(){var r=(new Date).getTime();if(!(r-n<t))return n=r,e.apply(void 0,arguments)}}var S=0,M=0;function Z(){var e=(new Date).getTime();return e===S?1e3*e+ ++M:(S=e,M=0,1e3*e)}function D(){return Math.random().toString(36).substring(2)}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))}function j(){return(new Date).getTime()}var P={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e)};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close()},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Promise.resolve()}catch(e){return Promise.reject(e)}},canBeUsed:function(){return"function"==typeof BroadcastChannel},type:"broadcastChannel",averageResponseTime:function(){return 150},microSeconds:Z},R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4;(0,p.Z)(this,e),this.ttl=t,this.set=new Set,this.timeMap=new Map}return(0,v.Z)(e,[{key:"has",value:function(e){return this.set.has(e)}},{key:"add",value:function(e){this.timeMap.set(e,j()),this.set.add(e),this._removeTooOldValues()}},{key:"clear",value:function(){this.set.clear(),this.timeMap.clear()}},{key:"_removeTooOldValues",value:function(){for(var e=j()-this.ttl,t=this.set[Symbol.iterator]();;){var n=t.next().value;if(!n)return;if(!(this.timeMap.get(n)<e))return;this.timeMap.delete(n),this.set.delete(n)}}}]),e}();function C(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function N(e,t){var n=e,r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}function B(){var e=C();if(!e)return!1;try{var t="__check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}var U={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!B())throw new Error("\u274c localStorage cannot be used.");var n=D(),r=new R(t.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=N(e,(function(e){i.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<i.messagesCallbackTime||(r.add(e.token),i.messagesCallback(e.data)))})),i},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){var r=e.channelName,i={token:D(),time:(new Date).getTime(),data:t,uuid:e.uuid},s=JSON.stringify(i);C().setItem(r,s);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=s,window.dispatchEvent(a),n()}))},canBeUsed:B,type:"localStorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:Z},F=new Set,H={create:function(e){var t={name:e,messagesCallback:null};return F.add(t),t},close:function(e){F.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(F).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Z},X=[P,U];function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.type){if("simulate"===e.type)return H;var t=X.find((function(t){return t.type===e.type}));if(t)return t;throw new Error("\u274c Method ".concat(e.type," is not supported."))}var n=X.find((function(e){return e.canBeUsed()}));if(!n)throw new Error("\u274c No method found ".concat(JSON.stringify(X.map((function(e){return e.type})))));return n}var V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.Z)(this,e),this.name=t,this.options=n,this.method=Y(this.options),this.closed=!1,this._isListening=!1,this._onMessageListener=null,this._addEventListeners={message:[],internal:[]},this._unSendMessagePromises=new Set,this._beforeClose=[],this._preparePromises=null,G(this)}return(0,v.Z)(e,[{key:"postMessage",value:function(e){if(this.closed)throw new Error("\u274c Cannot post message after channel has closed");return J(this,"message",e)}},{key:"postInternal",value:function(e){return J(this,"internal",e)}},{key:"onmessage",get:function(){return this._onMessageListener},set:function(e){var t={time:this.method.microSeconds(),fn:e};z(this,"message",this._onMessageListener),e&&"function"==typeof e?(this._onMessageListener=t,q(this,"message",t)):this._onMessageListener=null}},{key:"addEventListener",value:function(e,t){q(this,e,{time:this.method.microSeconds(),fn:t})}},{key:"removeEventListener",value:function(e,t){z(this,e,this._addEventListeners[e].find((function(e){return e.fn===t})))}},{key:"close",value:function(){var e=this;if(!this.closed){this.closed=!0;var t=this._preparePromises?this._preparePromises:Promise.resolve();return this._onMessageListener=null,this._addEventListeners.message=[],t.then((function(){return Promise.all(Array.from(e._unSendMessagePromises))})).then((function(){return Promise.all(e._beforeClose.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}}},{key:"type",get:function(){return this.method.type}},{key:"isClosed",value:function(){return this.closed}}]),e}();function J(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._preparePromises?e._preparePromises:Promise.resolve()).then((function(){var t=e.method.postMessage(e._state,r);return e._unSendMessagePromises.add(t),t.catch().then((function(){return e._unSendMessagePromises.delete(t)})),t}))}function G(e){var t,n=e.method.create(e.name,e.options);(t=n)&&"function"==typeof t.then?(e._preparePromises=n,n.then((function(t){e._state=t}))):e._state=n}function W(e){return e._addEventListeners.message.length>0||e._addEventListeners.internal.length>0}function q(e,t,n){e._addEventListeners[t].push(n),function(e){if(!e._isListening&&W(e)){var t=function(t){e._addEventListeners[t.type].forEach((function(e){t.time>=e.time&&e.fn(t.data)}))},n=e.method.microSeconds();e._preparePromises?e._preparePromises.then((function(){e._isListening=!0,e.method.onMessage(e._state,t,n)})):(e._isListening=!0,e.method.onMessage(e._state,t,n))}}(e)}function z(e,t,n){e._addEventListeners[t]=e._addEventListeners[t].filter((function(e){return e!==n})),function(e){if(e._isListening&&!W(e)){e._isListening=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}var K=function(){function e(t,n){var r=this;(0,p.Z)(this,e),this._channel=t,this._options=n,this.isLeader=!1,this.isDead=!1,this.token=D(),this._isApplying=!1,this._reApply=!1,this._unloadFns=[],this._listeners=[],this._intervals=[],this._duplicateListeners=function(){},this._duplicateCalled=!1,this._onBeforeDie=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));var s=function(){var e=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.die());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();A&&(window.addEventListener("beforeUnload",s),window.addEventListener("unload",s),this._unloadFns.push(["beforeUnload",s]),this._unloadFns.push(["unload",s]))}var t;return(0,v.Z)(e,[{key:"applyOnce",value:function(){var e=this;if(this.isLeader)return Promise.resolve(!1);if(this.isDead)return Promise.resolve(!1);if(this._isApplying)return this._reApply=!0,Promise.resolve(!1);this._isApplying=!0;var t=!1,n=function(n){"leader"===n.context&&n.token!==e.token&&("apply"===n.action&&n.token>e.token&&(t=!0),"tell"===n.action&&(t=!0))};return this._channel.addEventListener("internal",n),Q(this,"apply").then((function(){return O(e._options.responseTime)})).then((function(){return t?Promise.reject(new Error):Q(e,"apply")})).then((function(){return O(e._options.responseTime)})).then((function(){return t?Promise.reject(new Error):Q(e)})).then((function(){return function(e){e.isLeader=!0;var t=function(t){"leader"===t.context&&"apply"===t.action&&Q(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._duplicateCalled||(e._duplicateCalled=!0,e._duplicateListeners(),Q(e,"tell"))};return e._channel.addEventListener("internal",t),e._listeners.push(t),Q(e,"tell")}(e)})).then((function(){return!0})).catch((function(){return!1})).then((function(t){return e._channel.removeEventListener("internal",n),e._isApplying=!1,!t&&e._reApply?(e._reApply=!1,e.applyOnce()):t}))}},{key:"awaitLeadership",value:function(){var e;return this._awaitLeadershipPromise||(this._awaitLeadershipPromise=(e=this).isLeader?Promise.resolve():new Promise((function(t){var n=!1;function r(){n||(n=!0,clearInterval(i),e._channel.removeEventListener("internal",s),t(!0))}e.applyOnce().then((function(){e.isLeader&&r()}));var i=setInterval((function(){e.applyOnce().then((function(){e.isLeader&&r()}))}),e._options.fallbackInterval);e._intervals.push(i);var s=function(t){"leader"===t.context&&"death"===t.action&&e.applyOnce().then((function(){e.isLeader&&r()}))};e._channel.addEventListener("internal",s),e._listeners.push(s)}))),this._awaitLeadershipPromise}},{key:"onDuplicate",get:function(){return this._duplicateListeners},set:function(e){this._duplicateListeners=e}},{key:"onBeforeDie",get:function(){return this._onBeforeDie},set:function(e){this._onBeforeDie=e}},{key:"die",value:(t=(0,i.Z)(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDead){e.next=2;break}return e.abrupt("return");case 2:return this.isDead=!0,e.next=5,this.onBeforeDie();case 5:return this._listeners.forEach((function(e){return t._channel.removeEventListener("internal",e)})),this._intervals.forEach((function(e){return clearInterval(e)})),this._unloadFns.forEach((function(e){A&&window.removeEventListener(e[0],e[1])})),e.abrupt("return",Q(this,"death"));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function Q(e,t){var n={context:"leader",action:t,token:e.token};return e._channel.postInternal(n)}var $=function(e){var t=e.type,n=e.channelName,r=e.fallbackInterval,a=e.responseTime,u=e.emitOnAllTabs,c=e.callbacks,l=e.start,d=e.reset,h=e.pause,f=e.resume,m=new V(n,{type:t}),p=function(e,t){if(e._leaderElector)throw new Error("\u274c MessageChannel already has a leader-elector");var n=new K(e,t);return e._beforeClose.push((0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.die());case 1:case"end":return e.stop()}}),e)})))),e._leaderElector=n,n}(m,{fallbackInterval:r,responseTime:a}),v={};v[p.token]=!1;var g=!1,b=!0,_=function(){return g};p.awaitLeadership().then((function(){g=!0})),m.addEventListener("message",(function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];switch(n){case"register":v[r]=!1;break;case"deregister":delete v[r];break;case"idle":T(r);break;case"active":y(r);break;case"emitIdle":c.onIdle();break;case"emitActive":c.onActive();break;case"start":l(!0);break;case"reset":d(!0);break;case"pause":h(!0);break;case"resume":f(!0)}}));var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.token;v[e]=!0;var t=Object.values(v).every((function(e){return e}));!b&&t&&(b=!0,_()?(c.onIdle(),u&&w("emitIdle")):w("idle"))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.token;v[e]=!1;var t=Object.values(v).some((function(e){return!e}));b&&t&&(b=!1,_()?(c.onActive(),u&&w("emitActive")):w("active"))};p.onDuplicate=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.die();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),p.onBeforeDie=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("deregister");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));var w=function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.postMessage([t,p.token]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.die();case 2:return e.next=4,m.close();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return w("register"),{close:k,send:w,isLeader:_,idle:T,active:y,isAllIdle:function(){return b},setAllIdle:function(e){b=e}}};var ee=function(e){(0,b.Z)(n,u.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,T.Z)(e);if(t){var i=(0,T.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,_.Z)(this,n)}}(n);function n(e){var r;if((0,p.Z)(this,n),(r=t.call(this,e)).state={idle:!1,oldDate:+new Date,lastActive:+new Date,lastIdle:null,idleTime:0,remaining:null,pageX:null,pageY:null},r.tId=null,r.eventsBound=!1,r.callbackRefs={},e.debounce>0&&e.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return e.debounce>0?r._onAction=x(e.onAction,e.debounce):e.throttle>0?r._onAction=L(e.onAction,e.throttle):r._onAction=e.onAction,e.eventsThrottle>0?r.handleEvent=L(r._handleEvent.bind((0,g.Z)(r)),e.eventsThrottle):r.handleEvent=r._handleEvent.bind((0,g.Z)(r)),e.startOnMount&&!e.startManually||(r.state.idle=!0),r._toggleIdleState=r._toggleIdleState.bind((0,g.Z)(r)),r.start=r.start.bind((0,g.Z)(r)),r.reset=r.reset.bind((0,g.Z)(r)),r.pause=r.pause.bind((0,g.Z)(r)),r.resume=r.resume.bind((0,g.Z)(r)),r.isIdle=r.isIdle.bind((0,g.Z)(r)),r.getRemainingTime=r.getRemainingTime.bind((0,g.Z)(r)),r.getElapsedTime=r.getElapsedTime.bind((0,g.Z)(r)),r.getLastActiveTime=r.getLastActiveTime.bind((0,g.Z)(r)),r.getLastIdleTime=r.getLastIdleTime.bind((0,g.Z)(r)),r.getTotalIdleTime=r.getTotalIdleTime.bind((0,g.Z)(r)),r.getTotalActiveTime=r.getTotalActiveTime.bind((0,g.Z)(r)),r}return(0,v.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.startOnMount,n=e.startManually;this._setupTabManager(),n||(t?this.start():this._bindEvents())}},{key:"componentDidUpdate",value:function(e){e.debounce!==this.props.debounce&&this.props.debounce>0?(this._onAction.cancel&&this._onAction.cancel(),this._onAction=x(this.props.onAction,this.props.debounce)):e.throttle!==this.props.throttle&&this.props.throttle>0?(this._onAction.cancel&&this._onAction.cancel(),this._onAction=L(this.props.onAction,this.props.throttle)):(e.throttle&&0===this.props.throttle||e.debounce&&0===this.props.debounce)&&(this._onAction.cancel&&this._onAction.cancel(),this._onAction=this.props.onAction),e.eventsThrottle!==this.props.eventsThrottle&&(this._unbindEvents(),this.handleEvent=L(this._handleEvent.bind(this),this.props.eventsThrottle),this._bindEvents()),e.timeout!==this.props.timeout&&this.state.idle&&this.reset(),e.onActive!==this.props.onActive&&(this.callbackRefs.onActive=this.props.onActive),e.onIdle!==this.props.onIdle&&(this.callbackRefs.onIdle=this.props.onIdle)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents(!0),this._onAction.cancel&&this._onAction.cancel(),this.manager&&this.manager.close().catch(console.error)}},{key:"render",value:function(){return this.props.children||null}},{key:"_setupTabManager",value:function(){var e=this.props,t=e.crossTab,n=e.onIdle,r=e.onActive;if(this.callbackRefs={onIdle:n,onActive:r},t){var i=Object.assign({channelName:"idle-timer",fallbackInterval:2e3,responseTime:100,removeTimeout:6e4,emitOnAllTabs:!1},!0===t?{}:t),s=i.type,a=i.channelName,o=i.fallbackInterval,u=i.responseTime,c=i.emitOnAllTabs;this.manager=$({type:s,channelName:a,fallbackInterval:o,responseTime:u,emitOnAllTabs:c,callbacks:this.callbackRefs,start:this.start,reset:this.reset,pause:this.pause,resume:this.resume})}}},{key:"_bindEvents",value:function(){var e=this;if(A){var t=this.props,n=t.element,r=t.events,i=t.passive,s=t.capture;this.eventsBound||(r.forEach((function(t){n.addEventListener(t,e.handleEvent,{capture:s,passive:i})})),this.eventsBound=!0)}}},{key:"_unbindEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(A){var n=this.props,r=n.element,i=n.events,s=n.passive,a=n.capture;(this.eventsBound||t)&&(i.forEach((function(t){r.removeEventListener(t,e.handleEvent,{capture:a,passive:s})})),this.eventsBound=!1)}}},{key:"_toggleIdleState",value:function(e){var t=this;this.setState((function(e){return{idle:!e.idle,lastIdle:e.idle?e.lastIdle:+new Date-t.props.timeout,idleTime:e.idle?e.idleTime+ +new Date-e.lastIdle:e.idleTime}}),(function(){var n=t.props,r=n.onActive,i=n.onIdle,s=n.stopOnIdle;t.state.idle?(s&&(clearTimeout(t.tId),t.tId=null,t._unbindEvents()),t.manager?t.manager.idle():i(e)):(t._bindEvents(),t.manager?t.manager.active():r(e))}))}},{key:"_handleEvent",value:function(e){var t=this.state,n=t.remaining,r=t.pageX,i=t.pageY,s=t.idle,a=this.props,o=a.timeout,u=a.stopOnIdle;if(this._onAction(e),!n){if("mousemove"===e.type){if(e.pageX===r&&e.pageY===i)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(this.getElapsedTime()<200)return}clearTimeout(this.tId),this.tId=null;var c=+new Date-this.getLastActiveTime();(s&&!u||!s&&c>o)&&this._toggleIdleState(e),this.setState({lastActive:+new Date,pageX:e.pageX,pageY:e.pageY}),s&&u||(this.tId=setTimeout(this._toggleIdleState,o))}}},{key:"start",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null}),this.manager&&(this.manager.setAllIdle(!1),!e&&this.props.crossTab.emitOnAllTabs&&this.manager.send("start"));var t=this.props.timeout;this.tId=setTimeout(this._toggleIdleState,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.state.idle&&(this.manager?this.manager.active():this.props.onActive()),this.manager&&(this.manager.setAllIdle(!1),!e&&this.props.crossTab.emitOnAllTabs&&this.manager.send("reset")),this.setState({idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null});var t=this.props.timeout;this.tId=setTimeout(this._toggleIdleState,t)}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.remaining;null===t&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.manager&&!e&&this.props.crossTab.emitOnAllTabs&&this.manager.send("pause"),this.setState({remaining:this.getRemainingTime()}))}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,n=t.remaining,r=t.idle;null!==n&&(this._bindEvents(),this.manager&&!e&&this.props.crossTab.emitOnAllTabs&&this.manager.send("resume"),r||(this.tId=setTimeout(this._toggleIdleState,n),this.setState({remaining:null,lastActive:+new Date})))}},{key:"getRemainingTime",value:function(){var e=this.state,t=e.remaining,n=e.lastActive,r=this.props.timeout;if(null!==t)return t<0?0:t;var i=r-(+new Date-n);return i<0?0:i}},{key:"getElapsedTime",value:function(){var e=this.state.oldDate;return+new Date-e}},{key:"getLastIdleTime",value:function(){return this.state.lastIdle}},{key:"getTotalIdleTime",value:function(){var e=this.state,t=e.idle,n=e.lastIdle,r=e.idleTime;return t?+new Date-n+r:r}},{key:"getLastActiveTime",value:function(){return this.state.lastActive}},{key:"getTotalActiveTime",value:function(){return this.getElapsedTime()-this.getTotalIdleTime()}},{key:"isIdle",value:function(){return this.state.idle}},{key:"isLeader",value:function(){return!this.manager||this.manager.isLeader()}}]),n}();function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeout,n=void 0===t?12e5:t,r=e.element,s=void 0===r?I:r,a=e.events,c=void 0===a?E:a,l=e.onIdle,d=void 0===l?function(){}:l,h=e.onActive,f=void 0===h?function(){}:h,m=e.onAction,p=void 0===m?function(){}:m,v=e.debounce,g=void 0===v?0:v,b=e.throttle,_=void 0===b?0:b,T=e.eventsThrottle,y=void 0===T?200:T,w=e.startOnMount,k=void 0===w||w,S=e.startManually,M=void 0!==S&&S,Z=e.stopOnIdle,D=void 0!==Z&&Z,O=e.capture,j=void 0===O||O,P=e.passive,R=void 0===P||P,C=e.crossTab,N=void 0!==C&&C,B=(0,u.useRef)(!1),U=(0,u.useRef)(!0),F=(0,u.useRef)(+new Date),H=(0,u.useRef)(null),X=(0,u.useRef)(null),Y=(0,u.useRef)(null),V=(0,u.useRef)(null),J=(0,u.useRef)(null),G=(0,u.useRef)(null),W=(0,u.useRef)(0),q=(0,u.useRef)(!0),z=(0,u.useRef)(n),K=(0,u.useRef)(null);N&&(!0===N&&(N={}),N=Object.assign({channelName:"idle-timer",fallbackInterval:2e3,responseTime:100,removeTimeout:6e4,emitOnAllTabs:!1},N));var Q=(0,u.useRef)(d),ee=(0,u.useRef)(f),te=(0,u.useRef)(p);(0,u.useEffect)((function(){Q.current=d}),[d]),(0,u.useEffect)((function(){ee.current=f}),[f]),(0,u.useEffect)((function(){te.current=p}),[p]);var ne=(0,u.useMemo)((function(){function e(e){te.current(e)}return e.cancel&&e.cancel(),g>0?x(e,g):_>0?L(e,_):e}),[_,g]),re=function(e){var t=!U.current;U.current=t,t?(D&&(clearTimeout(V.current),V.current=null,oe()),G.current=+new Date-z.current,K.current?K.current.idle():Q.current(e)):(W.current+=+new Date-G.current,ae(),K.current?K.current.active():ee.current(e))},ie=function(e){if(ne(e),!H.current){if("mousemove"===e.type){if(e.pageX===X&&e.pageY===Y)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(ce()<200)return}clearTimeout(V.current),V.current=null;var t=+new Date-he();(U.current&&!D||!U.current&&t>z.current)&&re(e),J.current=+new Date,X.current=e.pageX,Y.current=e.pageY,U.current||(V.current=setTimeout(re,z.current))}},se=(0,u.useRef)(ie),ae=function(){A&&(B.current||(c.forEach((function(e){s.addEventListener(e,se.current,{capture:j,passive:R})})),B.current=!0))},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A&&(B.current||e)&&(c.forEach((function(e){s.removeEventListener(e,se.current,{capture:j,passive:R})})),B.current=!1)},ue=function(){if(null!==H.current)return H.current<0?0:H.current;var e=z.current-(+new Date-J.current);return e<0?0:e},ce=function(){return+new Date-F.current},le=function(){return G.current},de=function(){return U.current?+new Date-G.current+W.current:W.current},he=function(){return J.current},fe=function(){return ce()-de()},me=function(){return U.current},pe=function(){return!K.current||K.current.isLeader()},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(V.current),V.current=null,ae(),U.current=!1,F.current=+new Date,J.current=+new Date,H.current=null,K.current&&(K.current.setAllIdle(!1),!e&&N.emitOnAllTabs&&K.current.send("start")),V.current=setTimeout(re,z.current)},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(V.current),V.current=null,ae(),U.current&&(K.current?K.current.active():ee.current()),U.current=!1,F.current=+new Date,J.current=+new Date,H.current=null,K.current&&(K.current.setAllIdle(!1),!e&&N.emitOnAllTabs&&K.current.send("reset")),V.current=setTimeout(re,z.current)},be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===H.current&&(oe(),clearTimeout(V.current),V.current=null,H.current=ue(),K.current&&!e&&N.emitOnAllTabs&&K.current.send("pause"))},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!==H.current&&(ae(),U.current||(V.current=setTimeout(re,H.current),H.current=null,J.current=+new Date),K.current&&!e&&N.emitOnAllTabs&&K.current.send("resume"))};return(0,u.useEffect)((function(){if(g>0&&_>0)throw new Error("onAction can either be throttled or debounced (not both)");return N&&(K.current=$({type:N.type,channelName:N.channelName,fallbackInterval:N.fallbackInterval,responseTime:N.responseTime,emitOnAllTabs:N.emitOnAllTabs,callbacks:{onIdle:Q.current,onActive:ee.current},start:ve,reset:ge,pause:be,resume:_e})),M?(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(V.current),oe(!0),!N){e.next=5;break}return e.next=5,K.current.close();case 5:case"end":return e.stop()}}),e)}))):(k?ve():ae(),(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(V.current),oe(!0),ne.cancel&&ne.cancel(),!N){e.next=6;break}return e.next=6,K.current.close();case 6:case"end":return e.stop()}}),e)}))))}),[]),(0,u.useEffect)((function(){var e=B.current;e&&oe(),se.current=y>0?L(ie,y):ie,e&&ae()}),[y]),(0,u.useEffect)((function(){z.current=n,!q.current&&U.current&&ge(),q.current=!1}),[n]),{isIdle:me,isLeader:pe,start:ve,pause:be,reset:ge,resume:_e,getLastIdleTime:le,getTotalIdleTime:de,getLastActiveTime:he,getTotalActiveTime:fe,getElapsedTime:ce,getRemainingTime:ue}}ee.propTypes={timeout:w().number,events:w().arrayOf(w().string),onIdle:w().func,onActive:w().func,onAction:w().func,debounce:w().number,throttle:w().number,eventsThrottle:w().number,element:w().oneOfType([w().object,w().element]),startOnMount:w().bool,startManually:w().bool,stopOnIdle:w().bool,passive:w().bool,capture:w().bool,crossTab:w().oneOfType([w().bool,w().shape({type:w().oneOf(["broadcastChannel","localStorage","simulate"]),channelName:w().string,fallbackInterval:w().number,responseTime:w().number,removeTimeout:w().number,emitOnAllTabs:w().bool})])},ee.defaultProps={timeout:12e5,element:I,events:E,onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,eventsThrottle:200,startOnMount:!0,startManually:!1,stopOnIdle:!1,capture:!0,passive:!0,crossTab:!1},te.propTypes={timeout:w().number,events:w().arrayOf(w().string),onIdle:w().func,onActive:w().func,onAction:w().func,debounce:w().number,throttle:w().number,eventsThrottle:w().number,element:w().oneOfType([w().object,w().element]),startOnMount:w().bool,startManually:w().bool,stopOnIdle:w().bool,passive:w().bool,capture:w().bool,crossTab:w().oneOfType([w().bool,w().shape({type:w().oneOf(["broadcastChannel","localStorage","simulate"]),channelName:w().string,fallbackInterval:w().number,responseTime:w().number,removeTimeout:w().number,emitOnAllTabs:w().bool})])},te.defaultProps={timeout:12e5,element:I,events:E,onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,eventsThrottle:200,startOnMount:!0,startManually:!1,stopOnIdle:!1,capture:!0,passive:!0,crossTab:!1};var ne=ee,re=n(6871);function ie(){var e=(0,re.s0)(),t=(0,u.useRef)(null);return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(ne,{ref:t,timeout:36e5,onIdle:function(){sessionStorage.clear(),0===sessionStorage.length&&e("/")}})})}var se=n(1896),ae=n(9434),oe=function(){var e=(0,ae.v9)((function(e){return e.toggleSidebar.active}));return(0,f.jsxs)("div",{className:"main-content",children:[(0,f.jsx)(se.Z,{}),(0,f.jsx)(ie,{}),(0,f.jsx)("div",{className:e?"content-mobile":"content",children:(0,f.jsx)(r.Z,{fluid:!0,children:(0,f.jsx)(m,{})})})]})}}}]);
//# sourceMappingURL=598.c4101946.chunk.js.map